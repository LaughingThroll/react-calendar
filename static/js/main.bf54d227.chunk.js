(this.webpackJsonpbase=this.webpackJsonpbase||[]).push([[0],[,,,,,,,function(e,a,t){e.exports={alertWrapper:"alert_alertWrapper__3ElwI",alert:"alert_alert__iz_wu",alert__message:"alert_alert__message__2OPal",alert__message_error:"alert_alert__message_error__VE44k",alert__message_success:"alert_alert__message_success__1fioN",alert__message_warning:"alert_alert__message_warning__3p-zX",alert__button:"alert_alert__button__1LYuY",alert__button_error:"alert_alert__button_error__1qDxD",alert__button_success:"alert_alert__button_success__3y0li",alert__button_warning:"alert_alert__button_warning__FxLcO"}},,function(e,a,t){e.exports={summary:"summary_summary__2Azoi",summary__title:"summary_summary__title__2CffZ",summary__inner:"summary_summary__inner__quC_P",summary__users:"summary_summary__users__1djj-",summary__weekendPercent:"summary_summary__weekendPercent__1rEDi"}},function(e,a,t){e.exports={button:"button_button__NrOVN",button_primary:"button_button_primary__1V_AG",button_secondary:"button_button_secondary__3HBPU",button_disabled:"button_button_disabled__1UD7s",button_icon_plus:"button_button_icon_plus__Zml8L"}},function(e,a,t){e.exports={calendarNavigation__currentDate:"calendarNavigation_calendarNavigation__currentDate__1JJEm",calendarNavigation:"calendarNavigation_calendarNavigation__3f6xK",calendarNavigation__btn:"calendarNavigation_calendarNavigation__btn__1r8UT",calendarNavigation__btn_prevMonth:"calendarNavigation_calendarNavigation__btn_prevMonth__22xsn",calendarNavigation__btn_nextMonth:"calendarNavigation_calendarNavigation__btn_nextMonth__1s0ce"}},,function(e,a,t){e.exports={cellSumm:"cells_cellSumm__BmYvT",cellGray:"cells_cellGray__18OIN"}},function(e,a,t){e.exports={teamInfo__name:"teamInfo_teamInfo__name__26L2m",teamInfo:"teamInfo_teamInfo__PbghZ",teamInfo__other:"teamInfo_teamInfo__other__1YT2o"}},,function(e,a,t){e.exports={formItem__title:"formItem_formItem__title__yUT-X",formItem__inner:"formItem_formItem__inner__3sEe2",formItem:"formItem_formItem__3t-me"}},function(e,a,t){e.exports={users:"users_users__1K7My",users__count:"users_users__count__3HoVk"}},function(e,a,t){e.exports={calendarHeader__number:"calendarHeader_calendarHeader__number__3AiIj",calendarHeader__cell:"calendarHeader_calendarHeader__cell__3l5GO",calendarHeader__day:"calendarHeader_calendarHeader__day__1vmFb"}},function(e,a,t){e.exports={calendarFooter__cell:"calendarFooter_calendarFooter__cell__127dC"}},function(e,a,t){e.exports={calendarModalHeader:"calendarModalHeader_calendarModalHeader__KfC3W",calendarModalHeader__title:"calendarModalHeader_calendarModalHeader__title__2Dxna",calendarModalHeader__days:"calendarModalHeader_calendarModalHeader__days__2RWZn"}},,function(e,a,t){e.exports={form__item:"form_form__item__DC_FU"}},function(e,a,t){e.exports={inputDate:"inputDate_inputDate__2c9Mt",inputDate__field:"inputDate_inputDate__field__1HWO2"}},,function(e,a,t){e.exports={overlay:"modal_overlay__3WpLV",modal:"modal_modal__IUs-1"}},function(e,a,t){e.exports={select:"select_select__dFB5A",select__main:"select_select__main__WzDf_"}},,function(e,a,t){e.exports={weekendPercent:"weekendPercents_weekendPercent__3icw1"}},,function(e,a,t){e.exports={modalHeader:"modalHeader_modalHeader__2ZVcA"}},function(e,a,t){e.exports={modalBody:"modalBody_modalBody__m6VK4"}},function(e,a,t){e.exports={modalFooter:"modalFooter_modalFooter__1Rldb"}},function(e,a,t){},,,,,,function(e,a,t){},,function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var n,c=t(1),r=t.n(c),s=t(27),o=t.n(s),l=t(2),i=t(5),u=t(4),d=t(8),m=t(6),_=t.n(m),j=t(10),b=t.n(j),v=t(0),f=function(e){var a,t=e.type,n=void 0===t?"button":t,c=e.children,r=e.secondary,s=e.disabled,o=e.classNames,l=void 0===o?[]:o,m=e.iconPlus,j=Object(d.a)(e,["type","children","secondary","disabled","classNames","iconPlus"]),f=b.a.button,O=b.a.button_icon_plus,h=b.a.button_secondary,g=b.a.button_primary,D=b.a.button_disabled;return Object(v.jsx)("button",Object(i.a)(Object(i.a)({type:n,className:"".concat(_()((a={},Object(u.a)(a,f,!0),Object(u.a)(a,O,m),Object(u.a)(a,h,r),Object(u.a)(a,g,!r),Object(u.a)(a,D,s),a))," ").concat(l.join(" "))},j),{},{children:c}))},O=r.a.memo(f),h=t(3),g=t(22),D=t.n(g),p=D.a.form,N=D.a.form__item,x=function(e){var a=e.children,t=e.classNames,n=void 0===t?[]:t;return Object(v.jsx)("form",{className:[p].concat(Object(h.a)(n)).join(" "),children:r.a.Children.map(a,(function(e,a){return Object(v.jsx)("div",{className:N,children:e},a)}))})},y=r.a.memo(x),I=t(16),w=t.n(I),M=function(e){var a=e.title,t=void 0===a?"Title":a,n=e.inner,c=e.classNames,r=void 0===c?[]:c,s=e.children,o=w.a.formItem,l=w.a.formItem__title,i=w.a.formItem__inner;return Object(v.jsxs)("div",{className:[o].concat(Object(h.a)(r)).join(" "),children:[Object(v.jsx)("h5",{className:l,children:t}),n?Object(v.jsxs)("div",{className:i,children:[" ",s]}):s]})},S=r.a.memo(M),V=t(23),E=t.n(V),A=function(e){var a=e.label,t=Object(d.a)(e,["label"]),n=E.a.inputDate,c=E.a.inputDate__field;return Object(v.jsxs)("label",{className:n,children:[a," ",Object(v.jsx)("input",Object(i.a)({className:c,type:"date"},t))]})},C=r.a.memo(A),T=t(17),k=t.n(T),H=t.p+"static/media/users.4f0c7a0f.svg",P=k.a.users,F=k.a.users__count,U=k.a.users__svg,R=function(e){var a=e.src,t=void 0===a?H:a,n=e.countUsers,c=e.classNames,r=void 0===c?[]:c;return Object(v.jsxs)("div",{className:[P].concat(Object(h.a)(r)).join(" "),children:[Object(v.jsx)("img",{className:U,src:t,alt:""}),Object(v.jsx)("span",{className:F,children:n})]})},Y=r.a.memo(R),L=t(28),B=t.n(L).a.weekendPercent,W=function(e){var a=e.percent,t=e.classNames,n=void 0===t?[]:t;return Object(v.jsxs)("div",{className:[B].concat(Object(h.a)(n)).join(" "),children:[a," %"]})},G=r.a.memo(W),X=t(7),J=t.n(X),Z=J.a.alert,z=J.a.alertWrapper,K=J.a.alert__message,q=J.a.alert__message_error,Q=J.a.alert__message_success,$=J.a.alert__message_warning,ee=J.a.alert__button,ae=J.a.alert__button_error,te=J.a.alert__button_success,ne=J.a.alert__button_warning,ce=function(e){var a,t,n=e.message,c=void 0===n?"Alert fake":n,r=e.onAccept,s=e.buttonText,o=void 0===s?"Okey":s,l=e.error,i=e.success,d=e.warning,m=e.classNames,j=void 0===m?[]:m;return Object(v.jsx)("div",{className:z,children:Object(v.jsxs)("div",{className:[Z].concat(Object(h.a)(j)).join(" "),children:[Object(v.jsx)("p",{className:_()((a={},Object(u.a)(a,K,!0),Object(u.a)(a,q,l),Object(u.a)(a,Q,i),Object(u.a)(a,$,d),a)),children:c}),Object(v.jsx)(O,{onClick:r,classNames:_()((t={},Object(u.a)(t,ee,!0),Object(u.a)(t,ae,l),Object(u.a)(t,te,i),Object(u.a)(t,ne,d),t)).split(" "),children:o})]})})},re=r.a.memo(ce),se=t(13),oe=t.n(se),le=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},ie=function(e,a){var t=a.map(Number),n=Object(l.a)(t,3),c=n[0],r=n[1],s=n[2];return e.getDate()===s&&e.getMonth()+1===r&&e.getFullYear()===c},ue=function(e){return 6===e.getDay()||0===e.getDay()},de=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()).toLocaleString("en-US",{weekday:"short"}).substring(-1,2)},me=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";return e.split(a).reverse().join(t)},_e=function(e){var a=/T.*/g,t="T00:00:00";return a.test(e)?e.replace(a,t):"".concat(e).concat(t)},je=function(e,a){return Math.floor((Date.parse(a)-Date.parse(e))/864e5)},be=function(e){return e.toISOString().match(/\d{4}-\d{2}-\d{2}/)[0]},ve=function(e){return be(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()+e+1))},fe=function(e){return Object(h.a)(Array.from({length:e}).keys()).map((function(e){return e+1}))},Oe=function(e,a){return e.find((function(e){if(!e.id)throw new Error("Its element is not contains propperty ID");return e.id===a}))},he=function(e){return fe(le(e)).map((function(a){return new Date(new Date(e.getFullYear(),e.getMonth(),a))}))};!function(e){e.TH="th",e.TD="td"}(n||(n={}));var ge,De,pe=oe.a.cellGray,Ne=function(e){var a=e.variant,t=void 0===a?n.TD:a,c=e.children,s=e.cellDate,o=e.classNames,l=void 0===o?[]:o;return r.a.createElement(t,{className:"".concat(_()(Object(u.a)({},pe,s&&ue(s))),"  ").concat(l.join(" "))},c)},xe=r.a.memo(Ne),ye=oe.a.cellSumm,Ie=oe.a.cellGray,we=function(e){var a,t=e.cellDate,c=e.variant,s=void 0===c?n.TD:c,o=e.children,l=e.classNames,i=void 0===l?[]:l;return r.a.createElement(s,{className:"".concat(_()((a={},Object(u.a)(a,ye,!0),Object(u.a)(a,Ie,t&&ue(t)),a))," ").concat(i.join(" "))},o)},Me=r.a.memo(we),Se=t(11),Ve=t.n(Se);!function(e){e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight"}(ge||(ge={})),function(e){e.NEXT="next",e.PREV="prev"}(De||(De={}));var Ee,Ae=Ve.a.calendarNavigation,Ce=Ve.a.calendarNavigation__currentDate,Te=Ve.a.calendarNavigation__btn,ke=Ve.a.calendarNavigation__btn_prevMonth,He=Ve.a.calendarNavigation__btn_nextMonth,Pe=function(e){var a=e.date,t=e.onChangeMonth,n=e.classNames,r=void 0===n?[]:n,s=a.toLocaleDateString("en-US",{month:"long",year:"numeric"}),o=Object(c.useCallback)((function(e){var n=0;e===De.NEXT&&(n=1),e===De.PREV&&(n=-1),t(new Date(a.setMonth(a.getMonth()+n)))}),[a,t]),l=Object(c.useCallback)((function(e){e.key===ge.ARROW_LEFT&&o(De.PREV),e.key===ge.ARROW_RIGHT&&o(De.NEXT)}),[o]);return Object(c.useEffect)((function(){return window.addEventListener("keyup",l),function(){window.removeEventListener("keyup",l)}}),[l]),Object(v.jsxs)("div",{className:[Ae].concat(Object(h.a)(r)).join(" "),children:[Object(v.jsx)("button",{className:[Te,ke].join(" "),onClick:function(){return o(De.PREV)}}),Object(v.jsx)("div",{className:Ce,children:s}),Object(v.jsx)("button",{className:[Te,He].join(" "),onClick:function(){return o(De.NEXT)}})]})},Fe=r.a.memo(Pe),Ue=t(18),Re=t.n(Ue),Ye=function(e){var a=e.cellDate,t=e.classNames,c=void 0===t?[]:t;return Object(v.jsxs)(xe,{cellDate:a,variant:n.TH,classNames:c,children:[Object(v.jsx)("span",{className:"calendar-header__day",children:de(a)}),Object(v.jsx)("span",{className:"calendar-header__number",children:a.getDate()})]})},Le=r.a.memo(Ye),Be=Re.a.calendarHeader,We=Re.a.calendarHeader__row,Ge=Re.a.calendarHeader__cell,Xe=function(e){var a=e.date,t=e.children,n=e.classNames,c=void 0===n?[]:n;return Object(v.jsx)("thead",{className:[Be].concat(Object(h.a)(c)).join(" "),children:Object(v.jsxs)("tr",{className:We,children:[Object(v.jsx)("th",{className:Ge,children:t}),he(a).map((function(e,a){return Object(v.jsx)(Le,{cellDate:e,classNames:[Ge]},a)})),Object(v.jsx)(Me,{classNames:[Ge,"cell-gray"],children:"Sum "})]})})},Je=r.a.memo(Xe),Ze=t(19),ze=t.n(Ze),Ke=function(e,a){var t=a.startDate,n=a.endDate;return e>=new Date(_e(t))&&e<=new Date(_e(n))};!function(e){e.PAID="Paid",e.UN_PAID="UnPaid"}(Ee||(Ee={}));var qe,Qe=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ee.PAID,n=e.map((function(e){var t=e.startDate,n=e.endDate,c=e.type;return Ke(a,{startDate:t,endDate:n})?c:null}));return n.some((function(e){return e===t}))},$e=function(e){return e>0&&e<10?"0".concat(e):e.toString()},ea=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",t=e.startDate,n=e.endDate,c=e.type,r=t.split(a).map(Number),s=Object(l.a)(r,3),o=s[0],i=s[1],u=s[2],d=n.split(a).map(Number),m=Object(l.a)(d,3),_=m[0],j=m[1],b=m[2];return{startDay:u,startMonth:i,startYear:o,endDay:b,endMonth:j,endYear:_,type:c}},aa=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",n=e.startDate,c=e.endDate,r=e.type,s=ea(e,t),o=s.startMonth,l=s.endMonth,i=s.startYear,u=s.endYear;return[{startDate:n,endDate:[i,$e(o),a].join(t),type:r},{startDate:[u,$e(l),"01"].join(t),endDate:c,type:r}]},ta=function(e){var a=e.month,t=e.endYear,n=e.type,c=e.lastDay,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return{startDate:[t,$e(a),"01"].join(r),endDate:[t,$e(a),c].join(r),type:n}},na=function(e,a){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",n=ea(e,t),c=n.startDay,r=n.startMonth,s=n.endMonth,o=n.startYear,l=n.endYear,i=n.type,u=aa(e,a);r!==s-1;){var d=le(new Date(o,r,c));r+=1,u.push(ta({month:r,lastDay:d,endYear:l,type:i},"-"))}return u},ca=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";return e.flatMap((function(e){var n=ea(e,t),c=n.endMonth-n.startMonth;return 1===c?aa(e,a,t):c>1?na(e,a,t):e}))},ra=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";return e.filter((function(e){var n=ea(e,t),c=n.startMonth,r=n.endMonth,s=n.startYear,o=n.endYear,l=a.getMonth()+1,i=a.getFullYear();return(l===c||l===r)&&(i===s||i===o)}))},sa=function(e,a){return ra(e,a).reduce((function(e,a){return e+(je(me(a.startDate),me(a.endDate))+1)}),0)},oa=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",n=ra(e,a);return n.reduce((function(e,n){var c=ea(n,t),r=c.startDay,s=c.endDay;return e+ +(a.getDate()>=r&&a.getDate()<=s)}),0)},la=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";return e.map((function(e){var n=e.startDate;return ie(a,n.split(t))})).some(Boolean)},ia=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";return e.map((function(e){var n=e.endDate;return ie(a,n.split(t))})).some(Boolean)},ua=function(e,a){var t=e.startDate,n=e.endDate,c=Ke(new Date(_e(a.startDate)),{startDate:t,endDate:n})||Ke(new Date(_e(a.endDate)),{startDate:t,endDate:n}),r=new Date(t)>=new Date(_e(a.startDate))&&new Date(n)<=new Date(_e(a.endDate));return c||r},da=function(e,a){return e.map((function(e){return ua(a,e)})).some(Boolean)},ma=function(e,a){var t;return null===(t=e.flatMap((function(e){return e.members})).find((function(e){return e.id===a})))||void 0===t?void 0:t.vacations},_a=ze.a.calendarFooter,ja=ze.a.calendarFooter__cell,ba=ze.a.calendarFooter__row,va=function(e){var a=e.teams,t=e.date,n=e.classNames,r=void 0===n?[]:n,s=Object(c.useState)([]),o=Object(l.a)(s,2),i=o[0],u=o[1];return Object(c.useEffect)((function(){var e=a.flatMap((function(e){return e.members})).flatMap((function(e){return e.vacations}));u(ca(e,le(t)))}),[t,a]),Object(v.jsx)("tfoot",{className:[_a].concat(Object(h.a)(r)).join(" "),children:Object(v.jsxs)("tr",{className:ba,children:[Object(v.jsx)(xe,{classNames:[ja],children:"Day-Person-Stats"}),he(t).map((function(e,a){return Object(v.jsx)(Me,{cellDate:e,classNames:[ja],children:oa(i,e)},a)})),Object(v.jsx)(xe,{classNames:[ja]})]})})},fa=r.a.memo(va),Oa=t(9),ha=t.n(Oa),ga=ha.a.summary,Da=ha.a.summary__inner,pa=ha.a.summary__title,Na=ha.a.summary__text,xa=ha.a.summary__users,ya=ha.a.summary__weekendPercent,Ia=function(e){var a=e.date,t=e.countUsers,n=e.percent,c=e.classNames,r=void 0===c?[]:c;return Object(v.jsxs)("div",{className:[ga].concat(Object(h.a)(r)).join(" "),children:[Object(v.jsxs)("div",{className:pa,children:[a.toLocaleDateString("en-US",{month:"long"})," teams Summary"]}),Object(v.jsxs)("div",{className:Da,children:[Object(v.jsx)("div",{className:Na,children:"On vacation"}),Object(v.jsx)(Y,{countUsers:t,classNames:[xa]}),Object(v.jsx)(G,{percent:n,classNames:[ya]})]})]})},wa=r.a.memo(Ia),Ma=(t(39),function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=Object(c.useState)(e),t=Object(l.a)(a,2),n=t[0],r=t[1],s=function(){r(!n)};return{isOpen:n,toggleOpen:s}}),Sa=function(e){var a=Object(c.useRef)(null),t=Object(c.useState)(0),n=Object(l.a)(t,2),r=n[0],s=n[1];return Object(c.useEffect)((function(){if(a.current){var e=a.current.getBoundingClientRect().width.toFixed(1);s(+e)}}),[e]),{elementRef:a,width:r}},Va=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=Object(c.useState)(e),t=Object(l.a)(a,2),n=t[0],r=t[1],s=Object(c.useState)(!1),o=Object(l.a)(s,2),i=o[0],u=o[1],d=function(e){r(e.target.value),i||u(!0)};return{value:n,changeValue:d,isDirty:i}},Ea=function(e){var a=Object(c.useState)(e),t=Object(l.a)(a,2),n=t[0],r=t[1];return{value:n,changeValue:function(e){r(e.target.value)},setValue:r}},Aa=t(24),Ca=t.n(Aa),Ta=t(29),ka=function(e,a){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=Object(c.useState)(e),r=Object(l.a)(n,2),s=r[0],o=r[1],i=Object(c.useState)(!1),u=Object(l.a)(i,2),d=u[0],m=u[1],_=Object(c.useState)(null),j=Object(l.a)(_,2),b=j[0],v=j[1],f=Object(c.useState)(t),O=Object(l.a)(f,2),h=O[0],g=O[1],D=Object(c.useCallback)(Object(Ta.a)(Ca.a.mark((function e(){var t,n=arguments;return Ca.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,a.apply(void 0,n);case 4:t=e.sent,o(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),v(e.t0);case 11:m(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),[a]);return Object(c.useEffect)((function(){h&&D()}),[h,D]),{asyncFn:a,data:s,setData:o,loading:d,error:b,immediate:h,setImmediate:g}},Ha=function(e,a){var t=Object(c.useState)(0),n=Object(l.a)(t,2),r=n[0],s=n[1],o=Object(c.useState)(!0),i=Object(l.a)(o,2),u=i[0],d=i[1];return Object(c.useEffect)((function(){var t=je(e,a),n=t>0;n&&s(t),d(n)}),[e,a]),{countDays:r,isValidDays:u}},Pa=function(e){var a=e.date,t=e.vacations,n=Sa(a),c=Qe(t,a,Ee.PAID),r=Qe(t,a,Ee.UN_PAID),s=la(t,a),o=ia(t,a),l=t.find((function(e){var t=e.startDate;return ie(a,t.split("-"))})),i=l&&je(l.startDate,l.endDate)+1;return Object(v.jsx)(xe,{cellDate:a,classNames:["calendar-body__cell"],children:(r||c)&&Object(v.jsx)("div",{ref:n.elementRef,className:_()({"cell-vacations":!0,"cell-vacations--paid":c,"cell-vacations--unpaid":r,"cell-vacations--start-vac":s,"cell-vacations--end-vac":o,"cell-vacations--unpaid-start-vac":s&&r,"cell-vacations--unpaid-end-vac":o&&r}),children:i&&Object(v.jsx)("span",{style:{width:n.width*i},className:"cell-vacations__text",children:"Pd"})})})},Fa=r.a.memo(Pa),Ua=function(e){var a=e.date,t=e.theme,n=e.name,c=e.vacations,r=he(a),s=ca(c,r.length),o=sa(s,a);return Object(v.jsxs)("tr",{className:"calendar-body__row  ".concat(t),children:[Object(v.jsx)("td",{className:"member calendar-body__cell",children:Object(v.jsx)("span",{className:"member__name",children:n})}),r.map((function(e,a){return Object(v.jsx)(Fa,{date:e,vacations:s},a)})),Object(v.jsx)(Me,{classNames:["calendar-body__cell","cell-gray"],children:o})]})},Ra=r.a.memo(Ua),Ya=(t(41),t(14)),La=t.n(Ya),Ba=function(e,a){return a.getFullYear()===(new Date).getFullYear()?e[a.getMonth()]:0},Wa=La.a.teamInfo,Ga=La.a.teamInfo__name,Xa=La.a.teamInfo__other,Ja=La.a.teamInfo__countUsers,Za=function(e){var a=e.date,t=e.name,n=e.members,c=e.percentageOfAbsent,r=e.isOpen,s=e.toggleOpen,o=e.classNames,l=void 0===o?[]:o;return Object(v.jsxs)("div",{className:[Wa].concat(Object(h.a)(l)).join(" "),children:[Object(v.jsx)("span",{className:Ga,children:t}),Object(v.jsxs)("div",{className:Xa,children:[Object(v.jsx)(Y,{countUsers:n.length,classNames:[Ja]}),Object(v.jsx)(G,{percent:Ba(c,a),classNames:["teamInfo__weekendPercent"]}),Object(v.jsx)("button",{className:_()({"button-arrow-up":!0,"button-arrow-up--active":r}),onClick:s})]})]})},za=r.a.memo(Za),Ka=[["melrose-theme","melrose-theme--background"],["malibu-theme","malibu-theme--background"],["mona-lisa-theme","mona-lisa-theme--background"],["atomic-tangerine-theme","atomic-tangerine-theme--background"]],qa=function(e){var a=e.team,t=e.date,n=e.themeIndex,c=void 0===n?0:n,r=e.classNames,s=void 0===r?[]:r,o=Ka[c%Ka.length][0],l=Ma(!0),u=l.isOpen,d=l.toggleOpen;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("tr",{className:"\n        calendar-body__row  \n        ".concat(o," \n        ").concat(Ka[c%Ka.length][1]," \n        ").concat(_()({"calendar-table--closed":!u})," ").concat(Object(h.a)(s).join(" ")),children:[Object(v.jsx)("td",{className:"team",children:Object(v.jsx)(za,Object(i.a)(Object(i.a)({date:t},a),{},{isOpen:u,toggleOpen:d}))}),he(t).map((function(e,a){return Object(v.jsx)(xe,{cellDate:e,classNames:["calendar-body__cell"]},a)})),Object(v.jsx)(xe,{classNames:["calendar-body__cell","cell-gray"]})]}),u&&a.members.map((function(e){return Object(v.jsx)(Ra,Object(i.a)({date:t,theme:o},e),e.id)}))]})},Qa=r.a.memo(qa),$a=t(20),et=t.n($a),at=t(25),tt=t.n(at),nt=function(e){var a=e.children,t=e.open,n=e.onClose,c=tt.a.overlay,r=tt.a.modal;return Object(v.jsx)(v.Fragment,{children:t&&Object(v.jsx)("div",{id:"overlay",className:c,onClick:function(e){var a=e.target;"overlay"===(null===a||void 0===a?void 0:a.id)&&n()},children:Object(v.jsx)("div",{className:r,children:a})})})},ct=r.a.memo(nt),rt=t(30),st=t.n(rt).a.modalHeader,ot=function(e){var a=e.className,t=void 0===a?[]:a,n=e.children;return Object(v.jsx)("div",{className:"".concat(st," ").concat(t.join(" ")),children:n})},lt=r.a.memo(ot),it=t(31),ut=t.n(it).a.modalBody,dt=function(e){var a=e.children,t=e.classNames,n=void 0===t?[]:t;return Object(v.jsx)("div",{className:[ut].concat(Object(h.a)(n)).join(" "),children:a})},mt=r.a.memo(dt),_t=t(32),jt=t.n(_t).a.modalFooter,bt=function(e){var a=e.children,t=e.className,n=void 0===t?[]:t;return Object(v.jsx)("div",{className:"".concat(jt," ").concat(n.join(" ")),children:a})},vt=r.a.memo(bt);!function(e){e.IS_NOT_VALID_DAYS="Is Not Valid"}(qe||(qe={}));var ft,Ot=et.a.calendarModalHeader,ht=et.a.calendarModalHeader__title,gt=et.a.calendarModalHeader__days,Dt=r.a.memo((function(e){var a=e.isValidDays,t=e.countDays,n=e.classNames,c=void 0===n?[]:n;return Object(v.jsxs)(lt,{className:[Ot].concat(Object(h.a)(c)),children:[Object(v.jsx)("h4",{className:ht,children:"Vacation Request"}),Object(v.jsxs)("div",{className:gt,children:[" ",a?t:qe.IS_NOT_VALID_DAYS," Days"]})]})})),pt=r.a.memo((function(e){var a=e.onClose,t=e.isDisabled,n=e.onSubmit,c=e.classNames,r=void 0===c?[]:c;return Object(v.jsxs)(vt,{className:Object(h.a)(r),children:[Object(v.jsx)(O,{secondary:!0,onClick:a,children:"Cancel"}),Object(v.jsx)(O,{type:"submit",disabled:t,onClick:t?function(){}:n,children:"Send"})]})})),Nt=function(e){var a=e.startDate,t=e.endDate,n=e.classNames,c=void 0===n?[]:n;return Object(v.jsxs)(S,{title:"Dates",classNames:c,inner:!0,children:[Object(v.jsx)(C,{label:"From",onChange:a.changeValue,value:a.value,name:"startDate"}),Object(v.jsx)(C,{label:"To",onChange:t.changeValue,value:t.value,name:"endDate"})]})},xt=r.a.memo(Nt),yt=t(26),It=t.n(yt),wt=function(e){var a=e.children,t=e.value,n=Object(d.a)(e,["children","value"]),c=It.a.select,r=It.a.select__main;return Object(v.jsx)("div",{className:c,children:Object(v.jsx)("select",Object(i.a)(Object(i.a)({className:r,value:t},n),{},{children:a}))})},Mt=r.a.memo(wt),St=t(33),Vt=t.n(St),Et=function(e){var a=e.title,t=Object(d.a)(e,["title"]),n=Vt.a.select__option;return Object(v.jsx)("option",Object(i.a)(Object(i.a)({className:n},t),{},{children:a}))},At=r.a.memo(Et),Ct=function(e){var a=e.teams,t=e.select,n=e.classNames,c=void 0===n?[]:n;return console.log("Teams in select",a),Object(v.jsx)(S,{title:"Teams",classNames:c,children:Object(v.jsx)(Mt,{value:t.value,onChange:t.changeValue,name:"teams",children:a.map((function(e){var a=e.name,t=e.id;return console.log("Select Team",t),Object(v.jsx)(At,{title:a,value:t},t)}))})})},Tt=r.a.memo(Ct),kt=function(e){var a,t=e.teams,n=e.select,c=e.teamId,r=e.classNames,s=void 0===r?[]:r;return Object(v.jsx)(S,{title:"User",classNames:s,children:Object(v.jsx)(Mt,{onChange:n.changeValue,value:n.value,name:"members",children:null===(a=Oe(t,c))||void 0===a?void 0:a.members.map((function(e){var a=e.name,t=e.id;return Object(v.jsx)(At,{title:a,value:t},t)}))})})},Ht=r.a.memo(kt),Pt=function(e){var a=e.select,t=e.classNames,n=void 0===t?[]:t;return Object(v.jsx)(S,{title:"Vac Type",classNames:n,children:Object(v.jsxs)(Mt,{onChange:a.changeValue,value:a.value,name:"types",children:[Object(v.jsx)(At,{title:"Paid Day Off (PD)",value:Ee.UN_PAID}),Object(v.jsx)(At,{title:"Paid Day On (PD)",value:Ee.PAID})]})})},Ft=r.a.memo(Pt);!function(e){e.MEMBER_IS_UNDEFINED="\u0422\u0430\u043a\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442",e.VACATION_INCLUDE_VACATION="\u0422\u0430\u043a\u043e\u0439 \u043e\u0442\u043f\u0443\u0441\u043a \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0438\u043b\u0438 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0434\u0440\u0443\u0433\u043e\u0439 \u043e\u0442\u043f\u0443\u0441\u043a"}(ft||(ft={}));var Ut=function(e){var a=e.teams,t=e.isOpen,n=e.onClose,r=e.onSubmit;console.log("Team",a);var s=Va(ve(0)),o=Va(ve(7)),u=Object(c.useState)(!1),d=Object(l.a)(u,2),m=d[0],_=d[1],j=Ha(s.value,o.value),b=j.countDays,f=j.isValidDays,O=Object(c.useState)(""),h=Object(l.a)(O,2),g=h[0],D=h[1],p=Ea(""),N=Ea(""),x=Ea(Ee.UN_PAID),I=Object(c.useState)(void 0),w=Object(l.a)(I,2),M=w[0],S=w[1];Object(c.useEffect)((function(){_(!f)}),[f]),Object(c.useEffect)((function(){var e,t=Oe(a,p.value),n=(null===t||void 0===t?void 0:t.id)||(null===(e=a[0])||void 0===e?void 0:e.id);p.setValue(n),console.log("TeamSelectValue",p.value);var c=t&&Oe(t.members,N.value);if(t){var r,s=(null===c||void 0===c?void 0:c.id)||(null===t||void 0===t||null===(r=t.members[0])||void 0===r?void 0:r.id);N.setValue(s),console.log("MemberSelectValue",N.value)}}),[a,p,N]),Object(c.useEffect)((function(){S(ma(a,N.value))}),[a,N.value]);return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(ct,{open:t,onClose:n,children:[Object(v.jsx)(Dt,{isValidDays:f,countDays:b}),Object(v.jsx)(mt,{children:Object(v.jsxs)(y,{children:[Object(v.jsx)(xt,{startDate:{changeValue:s.changeValue,value:s.value},endDate:{changeValue:o.changeValue,value:o.value}}),Object(v.jsx)(Tt,{teams:a,select:{changeValue:p.changeValue,value:p.value}}),Object(v.jsx)(Ht,{teams:a,teamId:p.value,select:{changeValue:N.changeValue,value:N.value}}),Object(v.jsx)(Ft,{select:{changeValue:x.changeValue,value:x.value}})]})}),Object(v.jsx)(pt,{onClose:n,onSubmit:function(){var e={startDate:s.value,endDate:o.value},a=Object(i.a)({type:x.value},e),t=Object(i.a)({currentTeamID:p.value,currentMemberID:N.value},a);return M?da(M,e)?D(ft.VACATION_INCLUDE_VACATION):(_(!0),void r(t).then((function(){n(),_(!1)}))):D(ft.MEMBER_IS_UNDEFINED)},isDisabled:m}),g?Object(v.jsx)(re,{message:g,error:!0,onAccept:function(){D("")}}):Object(v.jsx)(v.Fragment,{})]})})},Rt=r.a.memo(Ut),Yt="https://calendar-25b31-default-rtdb.firebaseio.com",Lt=function(e,a){return fetch(e,a).then((function(e){return e.json()}))},Bt=function(){return Lt("".concat(Yt,"/teams.json")).then((function(e){return Object.values(e)})).then((function(e){return e.forEach((function(e){e.members=Object.values(e.members),e.members.forEach((function(e){e.vacations=Object.values(e.vacations).map((function(e){var a=e.startDate,t=e.endDate,n=e.type;return{startDate:me(a),endDate:me(t),type:n}}))}))})),e}))},Wt=function(e){var a=e.currentTeamID,t=e.currentMemberID,n=Object(d.a)(e,["currentTeamID","currentMemberID"]),c=Object(u.a)({},Date.now(),{startDate:me(n.startDate,"-","."),endDate:me(n.endDate,"-","."),type:n.type});return Lt("".concat(Yt,"/teams/").concat(a,"/members/").concat(t,"/vacations.json"),{method:"PATCH",body:JSON.stringify(c)}).then((function(e){return Object.values(e)[0]}))},Gt=function(){var e=Object(c.useState)(new Date),a=Object(l.a)(e,2),t=a[0],n=a[1],r=ka([],Bt),s=r.data,o=(r.loading,r.error,r.setData),i=ka({},Wt),u=i.asyncFn,d=(i.error,Object(c.useState)(0)),m=Object(l.a)(d,2),_=m[0],j=m[1],b=Object(c.useState)(0),f=Object(l.a)(b,2),h=f[0],g=f[1],D=Ma();Object(c.useEffect)((function(){j(s.reduce((function(e,a){return e+a.members.length}),0))}),[s]),Object(c.useEffect)((function(){g(s.reduce((function(e,a){return e+Ba(a.percentageOfAbsent,t)}),0))}),[t,s]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)(Fe,{date:t,onChangeMonth:function(e){n(e)},classNames:["calendarNavigation"]}),Object(v.jsxs)("table",{className:"calendar-table",children:[Object(v.jsx)(Je,{date:t,children:Object(v.jsx)(O,{iconPlus:!0,onClick:D.toggleOpen,children:"Add Vacation"})}),Object(v.jsx)("tbody",{className:"calendar-body",children:s.map((function(e,a){return Object(v.jsx)(Qa,{team:e,date:t,themeIndex:a,classNames:["calendar-table--indentation"]},e.id)}))}),Object(v.jsx)(fa,{date:t,teams:s,classNames:["calendar-table--indentation"]})]}),Object(v.jsx)(wa,{date:t,countUsers:_,percent:h,classNames:["calendar__summary"]})]}),Object(v.jsx)(Rt,{teams:s,isOpen:D.isOpen,onClose:D.toggleOpen,onSubmit:function(e){return u(e).then((function(e){e&&Bt().then((function(e){return o(e)}))}))}})]})},Xt=r.a.memo(Gt);t(42);o.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(Xt,{})}),document.getElementById("root"))}],[[43,1,2]]]);
//# sourceMappingURL=main.bf54d227.chunk.js.map
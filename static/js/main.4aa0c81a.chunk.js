(this.webpackJsonpbase=this.webpackJsonpbase||[]).push([[0],[,,,,,,,function(e,t,a){e.exports={alertWrapper:"alert_alertWrapper__3ElwI",alert:"alert_alert__iz_wu",alert__message:"alert_alert__message__2OPal",alert__message_error:"alert_alert__message_error__VE44k",alert__message_success:"alert_alert__message_success__1fioN",alert__message_warning:"alert_alert__message_warning__3p-zX",alert__button:"alert_alert__button__1LYuY",alert__button_error:"alert_alert__button_error__1qDxD",alert__button_success:"alert_alert__button_success__3y0li",alert__button_warning:"alert_alert__button_warning__FxLcO"}},,function(e,t,a){e.exports={summary:"summary_summary__2Azoi",summary__title:"summary_summary__title__2CffZ",summary__inner:"summary_summary__inner__quC_P",summary__users:"summary_summary__users__1djj-",summary__weekendPercent:"summary_summary__weekendPercent__1rEDi"}},function(e,t,a){e.exports={button:"button_button__NrOVN",button_primary:"button_button_primary__1V_AG",button_secondary:"button_button_secondary__3HBPU",button_disabled:"button_button_disabled__1UD7s",button_icon_plus:"button_button_icon_plus__Zml8L"}},function(e,t,a){e.exports={calendarNavigation__currentDate:"calendarNavigation_calendarNavigation__currentDate__1JJEm",calendarNavigation:"calendarNavigation_calendarNavigation__3f6xK",calendarNavigation__btn:"calendarNavigation_calendarNavigation__btn__1r8UT",calendarNavigation__btn_prevMonth:"calendarNavigation_calendarNavigation__btn_prevMonth__22xsn",calendarNavigation__btn_nextMonth:"calendarNavigation_calendarNavigation__btn_nextMonth__1s0ce"}},,function(e,t,a){e.exports={cellSumm:"cells_cellSumm__BmYvT",cellGray:"cells_cellGray__18OIN"}},function(e,t,a){e.exports={teamInfo__name:"teamInfo_teamInfo__name__26L2m",teamInfo:"teamInfo_teamInfo__PbghZ",teamInfo__other:"teamInfo_teamInfo__other__1YT2o"}},,function(e,t,a){e.exports={formItem__title:"formItem_formItem__title__yUT-X",formItem__inner:"formItem_formItem__inner__3sEe2",formItem:"formItem_formItem__3t-me"}},function(e,t,a){e.exports={users:"users_users__1K7My",users__count:"users_users__count__3HoVk"}},function(e,t,a){e.exports={calendarHeader__number:"calendarHeader_calendarHeader__number__3AiIj",calendarHeader__cell:"calendarHeader_calendarHeader__cell__3l5GO",calendarHeader__day:"calendarHeader_calendarHeader__day__1vmFb"}},function(e,t,a){e.exports={calendarFooter__cell:"calendarFooter_calendarFooter__cell__127dC"}},function(e,t,a){e.exports={calendarModalHeader:"calendarModalHeader_calendarModalHeader__KfC3W",calendarModalHeader__title:"calendarModalHeader_calendarModalHeader__title__2Dxna",calendarModalHeader__days:"calendarModalHeader_calendarModalHeader__days__2RWZn"}},,function(e,t,a){e.exports={form__item:"form_form__item__DC_FU"}},function(e,t,a){e.exports={inputDate:"inputDate_inputDate__2c9Mt",inputDate__field:"inputDate_inputDate__field__1HWO2"}},,function(e,t,a){e.exports={overlay:"modal_overlay__3WpLV",modal:"modal_modal__IUs-1"}},function(e,t,a){e.exports={select:"select_select__dFB5A",select__main:"select_select__main__WzDf_"}},,function(e,t,a){e.exports={weekendPercent:"weekendPercents_weekendPercent__3icw1"}},,function(e,t,a){e.exports={modalHeader:"modalHeader_modalHeader__2ZVcA"}},function(e,t,a){e.exports={modalBody:"modalBody_modalBody__m6VK4"}},function(e,t,a){e.exports={modalFooter:"modalFooter_modalFooter__1Rldb"}},function(e,t,a){},,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,c=a(1),r=a.n(c),s=a(27),o=a.n(s),l=a(2),i=a(5),u=a(4),d=a(8),m=a(6),_=a.n(m),j=a(10),b=a.n(j),v=a(0),f=function(e){var t,a=e.type,n=void 0===a?"button":a,c=e.children,r=e.secondary,s=e.disabled,o=e.classNames,l=void 0===o?[]:o,m=e.iconPlus,j=Object(d.a)(e,["type","children","secondary","disabled","classNames","iconPlus"]),f=b.a.button,O=b.a.button_icon_plus,h=b.a.button_secondary,p=b.a.button_primary,D=b.a.button_disabled;return Object(v.jsx)("button",Object(i.a)(Object(i.a)({type:n,className:"".concat(_()((t={},Object(u.a)(t,f,!0),Object(u.a)(t,O,m),Object(u.a)(t,h,r),Object(u.a)(t,p,!r),Object(u.a)(t,D,s),t))," ").concat(l.join(" "))},j),{},{children:c}))},O=r.a.memo(f),h=a(3),p=a(22),D=a.n(p),g=D.a.form,N=D.a.form__item,x=function(e){var t=e.children,a=e.classNames,n=void 0===a?[]:a;return Object(v.jsx)("form",{className:[g].concat(Object(h.a)(n)).join(" "),children:r.a.Children.map(t,(function(e,t){return Object(v.jsx)("div",{className:N,children:e},t)}))})},y=r.a.memo(x),I=a(16),w=a.n(I),M=function(e){var t=e.title,a=void 0===t?"Title":t,n=e.inner,c=e.classNames,r=void 0===c?[]:c,s=e.children,o=w.a.formItem,l=w.a.formItem__title,i=w.a.formItem__inner;return Object(v.jsxs)("div",{className:[o].concat(Object(h.a)(r)).join(" "),children:[Object(v.jsx)("h5",{className:l,children:a}),n?Object(v.jsxs)("div",{className:i,children:[" ",s]}):s]})},S=r.a.memo(M),V=a(23),E=a.n(V),C=function(e){var t=e.label,a=Object(d.a)(e,["label"]),n=E.a.inputDate,c=E.a.inputDate__field;return Object(v.jsxs)("label",{className:n,children:[t," ",Object(v.jsx)("input",Object(i.a)({className:c,type:"date"},a))]})},A=r.a.memo(C),k=a(17),H=a.n(k),P=a.p+"static/media/users.4f0c7a0f.svg",F=H.a.users,T=H.a.users__count,U=H.a.users__svg,R=function(e){var t=e.src,a=void 0===t?P:t,n=e.countUsers,c=e.classNames,r=void 0===c?[]:c;return Object(v.jsxs)("div",{className:[F].concat(Object(h.a)(r)).join(" "),children:[Object(v.jsx)("img",{className:U,src:a,alt:""}),Object(v.jsx)("span",{className:T,children:n})]})},Y=r.a.memo(R),L=a(28),B=a.n(L).a.weekendPercent,W=function(e){var t=e.percent,a=e.classNames,n=void 0===a?[]:a;return Object(v.jsxs)("div",{className:[B].concat(Object(h.a)(n)).join(" "),children:[t," %"]})},G=r.a.memo(W),X=a(7),J=a.n(X),Z=J.a.alert,z=J.a.alertWrapper,K=J.a.alert__message,q=J.a.alert__message_error,Q=J.a.alert__message_success,$=J.a.alert__message_warning,ee=J.a.alert__button,te=J.a.alert__button_error,ae=J.a.alert__button_success,ne=J.a.alert__button_warning,ce=function(e){var t,a,n=e.message,c=void 0===n?"Alert fake":n,r=e.onAccept,s=e.buttonText,o=void 0===s?"Okey":s,l=e.error,i=e.success,d=e.warning,m=e.classNames,j=void 0===m?[]:m;return Object(v.jsx)("div",{className:z,children:Object(v.jsxs)("div",{className:[Z].concat(Object(h.a)(j)).join(" "),children:[Object(v.jsx)("p",{className:_()((t={},Object(u.a)(t,K,!0),Object(u.a)(t,q,l),Object(u.a)(t,Q,i),Object(u.a)(t,$,d),t)),children:c}),Object(v.jsx)(O,{onClick:r,classNames:_()((a={},Object(u.a)(a,ee,!0),Object(u.a)(a,te,l),Object(u.a)(a,ae,i),Object(u.a)(a,ne,d),a)).split(" "),children:o})]})})},re=r.a.memo(ce),se=a(13),oe=a.n(se),le=function(e){return new Date(e.getFullYear(),e.getMonth()+1,0).getDate()},ie=function(e,t){var a=t.map(Number),n=Object(l.a)(a,3),c=n[0],r=n[1],s=n[2];return e.getDate()===s&&e.getMonth()+1===r&&e.getFullYear()===c},ue=function(e){return 6===e.getDay()||0===e.getDay()},de=function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate()).toLocaleString("en-US",{weekday:"short"}).substring(-1,2)},me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";return e.split(t).reverse().join(a)},_e=function(e){var t=/T.*/g,a="T00:00:00";return t.test(e)?e.replace(t,a):"".concat(e).concat(a)},je=function(e,t){return Math.floor((Date.parse(t)-Date.parse(e))/864e5)},be=function(e){return e.toISOString().match(/\d{4}-\d{2}-\d{2}/)[0]},ve=function(e){return be(new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate()+e+1))},fe=function(e){return Object(h.a)(Array.from({length:e}).keys()).map((function(e){return e+1}))},Oe=function(e,t){return e.find((function(e){if(!e.id)throw new Error("Its element is not contains propperty ID");return e.id===t}))},he=function(e){return fe(le(e)).map((function(t){return new Date(new Date(e.getFullYear(),e.getMonth(),t))}))};!function(e){e.TH="th",e.TD="td"}(n||(n={}));var pe,De,ge=oe.a.cellGray,Ne=function(e){var t=e.variant,a=void 0===t?n.TD:t,c=e.children,s=e.cellDate,o=e.classNames,l=void 0===o?[]:o;return r.a.createElement(a,{className:"".concat(_()(Object(u.a)({},ge,s&&ue(s))),"  ").concat(l.join(" "))},c)},xe=r.a.memo(Ne),ye=oe.a.cellSumm,Ie=oe.a.cellGray,we=function(e){var t,a=e.cellDate,c=e.variant,s=void 0===c?n.TD:c,o=e.children,l=e.classNames,i=void 0===l?[]:l;return r.a.createElement(s,{className:"".concat(_()((t={},Object(u.a)(t,ye,!0),Object(u.a)(t,Ie,a&&ue(a)),t))," ").concat(i.join(" "))},o)},Me=r.a.memo(we),Se=a(11),Ve=a.n(Se);!function(e){e.ARROW_LEFT="ArrowLeft",e.ARROW_RIGHT="ArrowRight"}(pe||(pe={})),function(e){e.NEXT="next",e.PREV="prev"}(De||(De={}));var Ee,Ce=Ve.a.calendarNavigation,Ae=Ve.a.calendarNavigation__currentDate,ke=Ve.a.calendarNavigation__btn,He=Ve.a.calendarNavigation__btn_prevMonth,Pe=Ve.a.calendarNavigation__btn_nextMonth,Fe=function(e){var t=e.date,a=e.onChangeMonth,n=e.classNames,r=void 0===n?[]:n,s=t.toLocaleDateString("en-US",{month:"long",year:"numeric"}),o=Object(c.useCallback)((function(e){var n=0;e===De.NEXT&&(n=1),e===De.PREV&&(n=-1),a(new Date(t.setMonth(t.getMonth()+n)))}),[t,a]),l=Object(c.useCallback)((function(e){e.key===pe.ARROW_LEFT&&o(De.PREV),e.key===pe.ARROW_RIGHT&&o(De.NEXT)}),[o]);return Object(c.useEffect)((function(){return window.addEventListener("keyup",l),function(){window.removeEventListener("keyup",l)}}),[l]),Object(v.jsxs)("div",{className:[Ce].concat(Object(h.a)(r)).join(" "),children:[Object(v.jsx)("button",{className:[ke,He].join(" "),onClick:function(){return o(De.PREV)}}),Object(v.jsx)("div",{className:Ae,children:s}),Object(v.jsx)("button",{className:[ke,Pe].join(" "),onClick:function(){return o(De.NEXT)}})]})},Te=r.a.memo(Fe),Ue=a(18),Re=a.n(Ue),Ye=function(e){var t=e.cellDate,a=e.classNames,c=void 0===a?[]:a;return Object(v.jsxs)(xe,{cellDate:t,variant:n.TH,classNames:c,children:[Object(v.jsx)("span",{className:"calendar-header__day",children:de(t)}),Object(v.jsx)("span",{className:"calendar-header__number",children:t.getDate()})]})},Le=r.a.memo(Ye),Be=Re.a.calendarHeader,We=Re.a.calendarHeader__row,Ge=Re.a.calendarHeader__cell,Xe=function(e){var t=e.date,a=e.children,n=e.classNames,c=void 0===n?[]:n;return Object(v.jsx)("thead",{className:[Be].concat(Object(h.a)(c)).join(" "),children:Object(v.jsxs)("tr",{className:We,children:[Object(v.jsx)("th",{className:Ge,children:a}),he(t).map((function(e,t){return Object(v.jsx)(Le,{cellDate:e,classNames:[Ge]},t)})),Object(v.jsx)(Me,{classNames:[Ge,"cell-gray"],children:"Sum "})]})})},Je=r.a.memo(Xe),Ze=a(19),ze=a.n(Ze),Ke=function(e,t){var a=t.startDate,n=t.endDate;return e>=new Date(_e(a))&&e<=new Date(_e(n))};!function(e){e.PAID="Paid",e.UN_PAID="UnPaid"}(Ee||(Ee={}));var qe,Qe=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ee.PAID,n=e.map((function(e){var a=e.startDate,n=e.endDate,c=e.type;return Ke(t,{startDate:a,endDate:n})?c:null}));return n.some((function(e){return e===a}))},$e=function(e){return e>0&&e<10?"0".concat(e):e.toString()},et=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",a=e.startDate,n=e.endDate,c=e.type,r=a.split(t).map(Number),s=Object(l.a)(r,3),o=s[0],i=s[1],u=s[2],d=n.split(t).map(Number),m=Object(l.a)(d,3),_=m[0],j=m[1],b=m[2];return{startDay:u,startMonth:i,startYear:o,endDay:b,endMonth:j,endYear:_,type:c}},tt=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",n=e.startDate,c=e.endDate,r=e.type,s=et(e,a),o=s.startMonth,l=s.endMonth,i=s.startYear,u=s.endYear;return[{startDate:n,endDate:[i,$e(o),t].join(a),type:r},{startDate:[u,$e(l),"01"].join(a),endDate:c,type:r}]},at=function(e){var t=e.month,a=e.endYear,n=e.type,c=e.lastDay,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-";return{startDate:[a,$e(t),"01"].join(r),endDate:[a,$e(t),c].join(r),type:n}},nt=function(e,t){for(var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",n=et(e,a),c=n.startDay,r=n.startMonth,s=n.endMonth,o=n.startYear,l=n.endYear,i=n.type,u=tt(e,t);r!==s-1;){var d=le(new Date(o,r,c));r+=1,u.push(at({month:r,lastDay:d,endYear:l,type:i},"-"))}return u},ct=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";return e.flatMap((function(e){var n=et(e,a),c=n.endMonth-n.startMonth;return 1===c?tt(e,t,a):c>1?nt(e,t,a):e}))},rt=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";return e.filter((function(e){var n=et(e,a),c=n.startMonth,r=n.endMonth,s=n.startYear,o=n.endYear,l=t.getMonth()+1,i=t.getFullYear();return(l===c||l===r)&&(i===s||i===o)}))},st=function(e,t){return rt(e,t).reduce((function(e,t){return e+(je(me(t.startDate),me(t.endDate))+1)}),0)},ot=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-",n=rt(e,t);return n.reduce((function(e,n){var c=et(n,a),r=c.startDay,s=c.endDay;return e+ +(t.getDate()>=r&&t.getDate()<=s)}),0)},lt=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";return e.map((function(e){var n=e.startDate;return ie(t,n.split(a))})).some(Boolean)},it=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"-";return e.map((function(e){var n=e.endDate;return ie(t,n.split(a))})).some(Boolean)},ut=function(e,t){var a=e.startDate,n=e.endDate,c=Ke(new Date(_e(t.startDate)),{startDate:a,endDate:n})||Ke(new Date(_e(t.endDate)),{startDate:a,endDate:n}),r=new Date(a)>=new Date(_e(t.startDate))&&new Date(n)<=new Date(_e(t.endDate));return c||r},dt=function(e,t){return e.map((function(e){return ut(t,e)})).some(Boolean)},mt=function(e,t){var a;return null===(a=e.flatMap((function(e){return e.members})).find((function(e){return e.id===t})))||void 0===a?void 0:a.vacations},_t=ze.a.calendarFooter,jt=ze.a.calendarFooter__cell,bt=ze.a.calendarFooter__row,vt=function(e){var t=e.teams,a=e.date,n=e.classNames,r=void 0===n?[]:n,s=Object(c.useState)([]),o=Object(l.a)(s,2),i=o[0],u=o[1];return Object(c.useEffect)((function(){var e=t.flatMap((function(e){return e.members})).flatMap((function(e){return e.vacations}));u(ct(e,le(a)))}),[a,t]),Object(v.jsx)("tfoot",{className:[_t].concat(Object(h.a)(r)).join(" "),children:Object(v.jsxs)("tr",{className:bt,children:[Object(v.jsx)(xe,{classNames:[jt],children:"Day-Person-Stats"}),he(a).map((function(e,t){return Object(v.jsx)(Me,{cellDate:e,classNames:[jt],children:ot(i,e)},t)})),Object(v.jsx)(xe,{classNames:[jt]})]})})},ft=r.a.memo(vt),Ot=a(9),ht=a.n(Ot),pt=ht.a.summary,Dt=ht.a.summary__inner,gt=ht.a.summary__title,Nt=ht.a.summary__text,xt=ht.a.summary__users,yt=ht.a.summary__weekendPercent,It=function(e){var t=e.date,a=e.countUsers,n=e.percent,c=e.classNames,r=void 0===c?[]:c;return Object(v.jsxs)("div",{className:[pt].concat(Object(h.a)(r)).join(" "),children:[Object(v.jsxs)("div",{className:gt,children:[t.toLocaleDateString("en-US",{month:"long"})," teams Summary"]}),Object(v.jsxs)("div",{className:Dt,children:[Object(v.jsx)("div",{className:Nt,children:"On vacation"}),Object(v.jsx)(Y,{countUsers:a,classNames:[xt]}),Object(v.jsx)(G,{percent:n,classNames:[yt]})]})]})},wt=r.a.memo(It),Mt=(a(39),function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(c.useState)(e),a=Object(l.a)(t,2),n=a[0],r=a[1],s=function(){r(!n)};return{isOpen:n,toggleOpen:s}}),St=function(e){var t=Object(c.useRef)(null),a=Object(c.useState)(0),n=Object(l.a)(a,2),r=n[0],s=n[1];return Object(c.useEffect)((function(){if(t.current){var e=t.current.getBoundingClientRect().width.toFixed(1);s(+e)}}),[e]),{elementRef:t,width:r}},Vt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(c.useState)(e),a=Object(l.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),o=Object(l.a)(s,2),i=o[0],u=o[1],d=function(e){r(e.target.value),i||u(!0)};return{value:n,changeValue:d,isDirty:i}},Et=function(e){var t=Object(c.useState)(e),a=Object(l.a)(t,2),n=a[0],r=a[1];return{value:n,changeValue:function(e){r(e.target.value)},setValue:r}},Ct=a(24),At=a.n(Ct),kt=a(29),Ht=function(e,t){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=Object(c.useState)(e),r=Object(l.a)(n,2),s=r[0],o=r[1],i=Object(c.useState)(!1),u=Object(l.a)(i,2),d=u[0],m=u[1],_=Object(c.useState)(null),j=Object(l.a)(_,2),b=j[0],v=j[1],f=Object(c.useState)(a),O=Object(l.a)(f,2),h=O[0],p=O[1],D=Object(c.useCallback)(Object(kt.a)(At.a.mark((function e(){var a,n=arguments;return At.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,t.apply(void 0,n);case 4:a=e.sent,o(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),v(e.t0);case 11:m(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])}))),[t]);return Object(c.useEffect)((function(){h&&D()}),[h,D]),{asyncFn:t,data:s,setData:o,loading:d,error:b,immediate:h,setImmediate:p}},Pt=function(e,t){var a=Object(c.useState)(0),n=Object(l.a)(a,2),r=n[0],s=n[1],o=Object(c.useState)(!0),i=Object(l.a)(o,2),u=i[0],d=i[1];return Object(c.useEffect)((function(){var a=je(e,t),n=a>0;n&&s(a),d(n)}),[e,t]),{countDays:r,isValidDays:u}},Ft=function(e){var t=e.date,a=e.vacations,n=St(t),c=Qe(a,t,Ee.PAID),r=Qe(a,t,Ee.UN_PAID),s=lt(a,t),o=it(a,t),l=a.find((function(e){var a=e.startDate;return ie(t,a.split("-"))})),i=l&&je(l.startDate,l.endDate)+1;return Object(v.jsx)(xe,{cellDate:t,classNames:["calendar-body__cell"],children:(r||c)&&Object(v.jsx)("div",{ref:n.elementRef,className:_()({"cell-vacations":!0,"cell-vacations--paid":c,"cell-vacations--unpaid":r,"cell-vacations--start-vac":s,"cell-vacations--end-vac":o,"cell-vacations--unpaid-start-vac":s&&r,"cell-vacations--unpaid-end-vac":o&&r}),children:i&&Object(v.jsx)("span",{style:{width:n.width*i},className:"cell-vacations__text",children:"Pd"})})})},Tt=r.a.memo(Ft),Ut=function(e){var t=e.date,a=e.theme,n=e.name,c=e.vacations,r=he(t),s=ct(c,r.length),o=st(s,t);return Object(v.jsxs)("tr",{className:"calendar-body__row  ".concat(a),children:[Object(v.jsx)("td",{className:"member calendar-body__cell",children:Object(v.jsx)("span",{className:"member__name",children:n})}),r.map((function(e,t){return Object(v.jsx)(Tt,{date:e,vacations:s},t)})),Object(v.jsx)(Me,{classNames:["calendar-body__cell","cell-gray"],children:o})]})},Rt=r.a.memo(Ut),Yt=(a(41),a(14)),Lt=a.n(Yt),Bt=function(e,t){return t.getFullYear()===(new Date).getFullYear()?e[t.getMonth()]:0},Wt=Lt.a.teamInfo,Gt=Lt.a.teamInfo__name,Xt=Lt.a.teamInfo__other,Jt=Lt.a.teamInfo__countUsers,Zt=function(e){var t=e.date,a=e.name,n=e.members,c=e.percentageOfAbsent,r=e.isOpen,s=e.toggleOpen,o=e.classNames,l=void 0===o?[]:o;return Object(v.jsxs)("div",{className:[Wt].concat(Object(h.a)(l)).join(" "),children:[Object(v.jsx)("span",{className:Gt,children:a}),Object(v.jsxs)("div",{className:Xt,children:[Object(v.jsx)(Y,{countUsers:n.length,classNames:[Jt]}),Object(v.jsx)(G,{percent:Bt(c,t),classNames:["teamInfo__weekendPercent"]}),Object(v.jsx)("button",{className:_()({"button-arrow-up":!0,"button-arrow-up--active":r}),onClick:s})]})]})},zt=r.a.memo(Zt),Kt=[["melrose-theme","melrose-theme--background"],["malibu-theme","malibu-theme--background"],["mona-lisa-theme","mona-lisa-theme--background"],["atomic-tangerine-theme","atomic-tangerine-theme--background"]],qt=function(e){var t=e.team,a=e.date,n=e.themeIndex,c=void 0===n?0:n,r=e.classNames,s=void 0===r?[]:r,o=Kt[c%Kt.length][0],l=Mt(!0),u=l.isOpen,d=l.toggleOpen;return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("tr",{className:"\n        calendar-body__row  \n        ".concat(o," \n        ").concat(Kt[c%Kt.length][1]," \n        ").concat(_()({"calendar-table--closed":!u})," ").concat(Object(h.a)(s).join(" ")),children:[Object(v.jsx)("td",{className:"team",children:Object(v.jsx)(zt,Object(i.a)(Object(i.a)({date:a},t),{},{isOpen:u,toggleOpen:d}))}),he(a).map((function(e,t){return Object(v.jsx)(xe,{cellDate:e,classNames:["calendar-body__cell"]},t)})),Object(v.jsx)(xe,{classNames:["calendar-body__cell","cell-gray"]})]}),u&&t.members.map((function(e){return Object(v.jsx)(Rt,Object(i.a)({date:a,theme:o},e),e.id)}))]})},Qt=r.a.memo(qt),$t=a(20),ea=a.n($t),ta=a(25),aa=a.n(ta),na=function(e){var t=e.children,a=e.open,n=e.onClose,c=aa.a.overlay,r=aa.a.modal;return Object(v.jsx)(v.Fragment,{children:a&&Object(v.jsx)("div",{id:"overlay",className:c,onClick:function(e){var t=e.target;"overlay"===(null===t||void 0===t?void 0:t.id)&&n()},children:Object(v.jsx)("div",{className:r,children:t})})})},ca=r.a.memo(na),ra=a(30),sa=a.n(ra).a.modalHeader,oa=function(e){var t=e.className,a=void 0===t?[]:t,n=e.children;return Object(v.jsx)("div",{className:"".concat(sa," ").concat(a.join(" ")),children:n})},la=r.a.memo(oa),ia=a(31),ua=a.n(ia).a.modalBody,da=function(e){var t=e.children,a=e.classNames,n=void 0===a?[]:a;return Object(v.jsx)("div",{className:[ua].concat(Object(h.a)(n)).join(" "),children:t})},ma=r.a.memo(da),_a=a(32),ja=a.n(_a).a.modalFooter,ba=function(e){var t=e.children,a=e.className,n=void 0===a?[]:a;return Object(v.jsx)("div",{className:"".concat(ja," ").concat(n.join(" ")),children:t})},va=r.a.memo(ba);!function(e){e.IS_NOT_VALID_DAYS="Is Not Valid"}(qe||(qe={}));var fa,Oa=ea.a.calendarModalHeader,ha=ea.a.calendarModalHeader__title,pa=ea.a.calendarModalHeader__days,Da=r.a.memo((function(e){var t=e.isValidDays,a=e.countDays,n=e.classNames,c=void 0===n?[]:n;return Object(v.jsxs)(la,{className:[Oa].concat(Object(h.a)(c)),children:[Object(v.jsx)("h4",{className:ha,children:"Vacation Request"}),Object(v.jsxs)("div",{className:pa,children:[" ",t?a:qe.IS_NOT_VALID_DAYS," Days"]})]})})),ga=r.a.memo((function(e){var t=e.onClose,a=e.isDisabled,n=e.onSubmit,c=e.classNames,r=void 0===c?[]:c;return Object(v.jsxs)(va,{className:Object(h.a)(r),children:[Object(v.jsx)(O,{secondary:!0,onClick:t,children:"Cancel"}),Object(v.jsx)(O,{type:"submit",disabled:a,onClick:a?function(){}:n,children:"Send"})]})})),Na=function(e){var t=e.startDate,a=e.endDate,n=e.classNames,c=void 0===n?[]:n;return Object(v.jsxs)(S,{title:"Dates",classNames:c,inner:!0,children:[Object(v.jsx)(A,{label:"From",onChange:t.changeValue,value:t.value,name:"startDate"}),Object(v.jsx)(A,{label:"To",onChange:a.changeValue,value:a.value,name:"endDate"})]})},xa=r.a.memo(Na),ya=a(26),Ia=a.n(ya),wa=function(e){try{if(function(e){var t,a;return"option"===e.type||"Option"===(null===(t=e.type)||void 0===t||null===(a=t.type)||void 0===a?void 0:a.name)}(e))return e}catch(t){throw new Error(t)}},Ma=function(e){var t=e.children,a=e.value,n=Object(d.a)(e,["children","value"]),c=Ia.a.select,s=Ia.a.select__main;return Object(v.jsx)("div",{className:c,children:Object(v.jsx)("select",Object(i.a)(Object(i.a)({className:s,value:a},n),{},{children:r.a.Children.map(t,wa)}))})},Sa=r.a.memo(Ma),Va=a(33),Ea=a.n(Va),Ca=function(e){var t=e.title,a=Object(d.a)(e,["title"]),n=Ea.a.select__option;return Object(v.jsx)("option",Object(i.a)(Object(i.a)({className:n},a),{},{children:t}))},Aa=r.a.memo(Ca),ka=function(e){var t=e.teams,a=e.select,n=e.classNames,c=void 0===n?[]:n;return Object(v.jsx)(S,{title:"Teams",classNames:c,children:Object(v.jsx)(Sa,{value:a.value,onChange:a.changeValue,name:"teams",children:t.map((function(e){var t=e.name,a=e.id;return Object(v.jsx)(Aa,{title:t,value:a},a)}))})})},Ha=r.a.memo(ka),Pa=function(e){var t,a=e.teams,n=e.select,c=e.teamId,r=e.classNames,s=void 0===r?[]:r;return Object(v.jsx)(S,{title:"User",classNames:s,children:Object(v.jsx)(Sa,{onChange:n.changeValue,value:n.value,name:"members",children:null===(t=Oe(a,c))||void 0===t?void 0:t.members.map((function(e){var t=e.name,a=e.id;return Object(v.jsx)(Aa,{title:t,value:a},a)}))})})},Fa=r.a.memo(Pa),Ta=function(e){var t=e.select,a=e.classNames,n=void 0===a?[]:a;return Object(v.jsx)(S,{title:"Vac Type",classNames:n,children:Object(v.jsxs)(Sa,{onChange:t.changeValue,value:t.value,name:"types",children:[Object(v.jsx)(Aa,{title:"Paid Day Off (PD)",value:Ee.UN_PAID}),Object(v.jsx)(Aa,{title:"Paid Day On (PD)",value:Ee.PAID})]})})},Ua=r.a.memo(Ta);!function(e){e.MEMBER_IS_UNDEFINED="\u0422\u0430\u043a\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442",e.VACATION_INCLUDE_VACATION="\u0422\u0430\u043a\u043e\u0439 \u043e\u0442\u043f\u0443\u0441\u043a \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0438\u043b\u0438 \u0432\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0434\u0440\u0443\u0433\u043e\u0439 \u043e\u0442\u043f\u0443\u0441\u043a"}(fa||(fa={}));var Ra=function(e){var t=e.teams,a=e.isOpen,n=e.onClose,r=e.onSubmit,s=Vt(ve(0)),o=Vt(ve(7)),u=Object(c.useState)(!1),d=Object(l.a)(u,2),m=d[0],_=d[1],j=Pt(s.value,o.value),b=j.countDays,f=j.isValidDays,O=Object(c.useState)(""),h=Object(l.a)(O,2),p=h[0],D=h[1],g=Et(""),N=Et(""),x=Et(Ee.UN_PAID),I=Object(c.useState)(void 0),w=Object(l.a)(I,2),M=w[0],S=w[1];Object(c.useEffect)((function(){_(!f)}),[f]),Object(c.useEffect)((function(){var e,a=Oe(t,g.value),n=(null===a||void 0===a?void 0:a.id)||(null===(e=t[0])||void 0===e?void 0:e.id);g.setValue(n);var c=a&&Oe(a.members,N.value);if(a){var r,s=(null===c||void 0===c?void 0:c.id)||(null===a||void 0===a||null===(r=a.members[0])||void 0===r?void 0:r.id);N.setValue(s)}}),[t,g,N]),Object(c.useEffect)((function(){S(mt(t,N.value))}),[t,N.value]);return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(ca,{open:a,onClose:n,children:[Object(v.jsx)(Da,{isValidDays:f,countDays:b}),Object(v.jsx)(ma,{children:Object(v.jsxs)(y,{children:[Object(v.jsx)(xa,{startDate:{changeValue:s.changeValue,value:s.value},endDate:{changeValue:o.changeValue,value:o.value}}),Object(v.jsx)(Ha,{teams:t,select:{changeValue:g.changeValue,value:g.value}}),Object(v.jsx)(Fa,{teams:t,teamId:g.value,select:{changeValue:N.changeValue,value:N.value}}),Object(v.jsx)(Ua,{select:{changeValue:x.changeValue,value:x.value}})]})}),Object(v.jsx)(ga,{onClose:n,onSubmit:function(){var e={startDate:s.value,endDate:o.value},t=Object(i.a)({type:x.value},e),a=Object(i.a)({currentTeamID:g.value,currentMemberID:N.value},t);return M?dt(M,e)?D(fa.VACATION_INCLUDE_VACATION):(_(!0),void r(a).then((function(){n(),_(!1)}))):D(fa.MEMBER_IS_UNDEFINED)},isDisabled:m}),p?Object(v.jsx)(re,{message:p,error:!0,onAccept:function(){D("")}}):Object(v.jsx)(v.Fragment,{})]})})},Ya=r.a.memo(Ra),La="https://calendar-25b31-default-rtdb.firebaseio.com",Ba=function(e,t){return fetch(e,t).then((function(e){return e.json()}))},Wa=function(){return Ba("".concat(La,"/teams.json")).then((function(e){return Object.values(e)})).then((function(e){return e.forEach((function(e){e.members=Object.values(e.members),e.members.forEach((function(e){e.vacations=Object.values(e.vacations).map((function(e){var t=e.startDate,a=e.endDate,n=e.type;return{startDate:me(t),endDate:me(a),type:n}}))}))})),e}))},Ga=function(e){var t=e.currentTeamID,a=e.currentMemberID,n=Object(d.a)(e,["currentTeamID","currentMemberID"]),c=Object(u.a)({},Date.now(),{startDate:me(n.startDate,"-","."),endDate:me(n.endDate,"-","."),type:n.type});return Ba("".concat(La,"/teams/").concat(t,"/members/").concat(a,"/vacations.json"),{method:"PATCH",body:JSON.stringify(c)}).then((function(e){return Object.values(e)[0]}))},Xa=function(){var e=Object(c.useState)(new Date),t=Object(l.a)(e,2),a=t[0],n=t[1],r=Ht([],Wa),s=r.data,o=(r.loading,r.error,r.setData),i=Ht({},Ga),u=i.asyncFn,d=(i.error,Object(c.useState)(0)),m=Object(l.a)(d,2),_=m[0],j=m[1],b=Object(c.useState)(0),f=Object(l.a)(b,2),h=f[0],p=f[1],D=Mt();Object(c.useEffect)((function(){j(s.reduce((function(e,t){return e+t.members.length}),0))}),[s]),Object(c.useEffect)((function(){p(s.reduce((function(e,t){return e+Bt(t.percentageOfAbsent,a)}),0))}),[a,s]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"container",children:[Object(v.jsx)(Te,{date:a,onChangeMonth:function(e){n(e)},classNames:["calendarNavigation"]}),Object(v.jsxs)("table",{className:"calendar-table",children:[Object(v.jsx)(Je,{date:a,children:Object(v.jsx)(O,{iconPlus:!0,onClick:D.toggleOpen,children:"Add Vacation"})}),Object(v.jsx)("tbody",{className:"calendar-body",children:s.map((function(e,t){return Object(v.jsx)(Qt,{team:e,date:a,themeIndex:t,classNames:["calendar-table--indentation"]},e.id)}))}),Object(v.jsx)(ft,{date:a,teams:s,classNames:["calendar-table--indentation"]})]}),Object(v.jsx)(wt,{date:a,countUsers:_,percent:h,classNames:["calendar__summary"]})]}),Object(v.jsx)(Ya,{teams:s,isOpen:D.isOpen,onClose:D.toggleOpen,onSubmit:function(e){return u(e).then((function(e){e&&Wa().then((function(e){return o(e)}))}))}})]})},Ja=r.a.memo(Xa);a(42);o.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(Ja,{})}),document.getElementById("root"))}],[[43,1,2]]]);
//# sourceMappingURL=main.4aa0c81a.chunk.js.map